<div *ngIf="personaje; else noPersonaje">
  <div class="container mt-5">
    <div class="row">
      <!-- Columna para retrato, detalles y crónica -->
      <div class="col-md-6 mb-4">
        <div class="card h-100">
          <div class="card-body text-center">
            <img
              id="retrato"
              class="img-fluid rounded-circle retrato-pequeno mb-4 retrato"
              src="/assets/img/Cleriga.jpg"
              alt="Retrato del personaje"
            />
            <h5 class="card-title">Detalles</h5>
            <div class="mb-3">
              <label for="nombre" class="form-label">Nombre:</label>
              <p id="nombre" class="form-control">{{ personaje.nombre }}</p>
            </div>
            <div class="mb-3">
              <label for="ascendencia" class="form-label">Ascendencia:</label>
              <p id="ascendencia" class="form-control">
                {{ personaje.ascendencia.nombre }}
              </p>
            </div>
            <div class="mb-3">
              <label for="clase" class="form-label">Clase:</label>
              <p id="clase" class="form-control">
                {{ personaje.clase.nombre }}
              </p>
            </div>
            <div class="mb-3">
              <label for="alineamiento" class="form-label">Alineamiento:</label>
              <p id="alineamiento" class="form-control">
                {{ personaje.alineamiento.nombre }}
              </p>
            </div>
            <h5 class="card-title" *ngIf="personaje.cronica">Crónica</h5>
            <div class="mb-3" *ngIf="personaje.cronica">
              <p id="cronica" class="form-control">{{ personaje.cronica }}</p>
            </div>
          </div>
        </div>
      </div>
      <!-- Columna para habilidades y características -->
      <div class="col-md-6">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Habilidades</h5>
            <div class="mb-3">
              <label class="form-label">Habilidades Fijas:</label>
              <ul class="list-group">
                <li
                  class="list-group-item"
                  *ngFor="let habilidad of habilidadesFijas"
                >
                  {{ habilidad }}
                </li>
              </ul>
            </div>
            <h5 class="card-title">Características</h5>
            <div class="mb-3">
              <label for="pg"><i class="fas fa-heart"></i> Puntos de Golpe (PG):</label>
              <span id="pg" class="form-control">{{ personaje.pg }}</span>
            </div>
            <div class="mb-3">
              <label for="ca"><i class="fas fa-shield-alt"></i> Clase de Armadura (CA):</label>
              <span id="ca" class="form-control">{{ personaje.ca }}</span>
            </div>
            <div class="mb-3">
              <label for="percepcionPasiva"><i class="fas fa-eye"></i> Percepción Pasiva:</label>
              <span id="percepcionPasiva" class="form-control">{{
                personaje.percepcionPasiva
              }}</span>
            </div>
            <div class="mb-3">
              <label for="iniciativa"><i class="fas fa-bolt"></i> Iniciativa:</label>
              <span id="iniciativa" class="form-control">{{
                personaje.iniciativa
              }}</span>
            </div>
            <!-- Atributos con Modificadores -->
            <div class="row mb-3">
              <div class="col-6">
                <label for="fuerza" class="form-label">Fuerza</label>
                <span id="fuerza" class="form-control">{{ personaje.fuerza }}</span>
              </div>
              <div class="col-6">
                <label for="fuerza_mod" class="form-label">Modificador de Fuerza</label>
                <span id="fuerza_mod" class="form-control">{{ personaje.fuerzaMod }}</span>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="destreza" class="form-label">Destreza</label>
                <span id="destreza" class="form-control">{{ personaje.destreza }}</span>
              </div>
              <div class="col-6">
                <label for="destreza_mod" class="form-label">Modificador de Destreza</label>
                <span id="destreza_mod" class="form-control">{{ personaje.destrezaMod }}</span>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="constitucion" class="form-label">Constitución</label>
                <span id="constitucion" class="form-control">{{ personaje.constitucion }}</span>
              </div>
              <div class="col-6">
                <label for="constitucion_mod" class="form-label">Modificador de Constitución</label>
                <span id="constitucion_mod" class="form-control">{{ personaje.constitucionMod }}</span>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="inteligencia" class="form-label">Inteligencia</label>
                <span id="inteligencia" class="form-control">{{ personaje.inteligencia }}</span>
              </div>
              <div class="col-6">
                <label for="inteligencia_mod" class="form-label">Modificador de Inteligencia</label>
                <span id="inteligencia_mod" class="form-control">{{ personaje.inteligenciaMod }}</span>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="sabiduria" class="form-label">Sabiduría</label>
                <span id="sabiduria" class="form-control">{{ personaje.sabiduria }}</span>
              </div>
              <div class="col-6">
                <label for="sabiduria_mod" class="form-label">Modificador de Sabiduría</label>
                <span id="sabiduria_mod" class="form-control">{{ personaje.sabiduriaMod }}</span>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <label for="carisma" class="form-label">Carisma</label>
                <span id="carisma" class="form-control">{{ personaje.carisma }}</span>
              </div>
              <div class="col-6">
                <label for="carisma_mod" class="form-label">Modificador de Carisma</label>
                <span id="carisma_mod" class="form-control">{{ personaje.carismaMod }}</span>
              </div>
            </div>
            <button
              class="btn btn-outline-secondary mt-3"
              (click)="crearPersonaje()"
            >
              Crear Nuevo Personaje
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #noPersonaje>
  <div class="container text-center mt-5" id="noPersonaje">
    <h1 class="mb-4">
      ¡Ups! parece que el personaje solo está en tu imaginación, es hora de
      crearlo
    </h1>
    <div class="mb-4">
      <img
        id="dados"
        class="img-fluid rounded-circle mb-4"
        src="/assets/img/DADO.png"
        alt="Personajes en vacío"
      />
    </div>
    <div>
      <button class="btn btn-primary btn-lg" (click)="crearPersonaje()">
        Crear Personaje
      </button>
    </div>
  </div>
</ng-template>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.4/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net"></script>